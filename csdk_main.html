<!DOCTYPE html>
<html style="height: 100%; width: 100%">
  <head>
    <title>Aurora Solar Client SDK Demo</title>
  </head>
  <body style="height: 100%; width: 100%">
    <h3>My Aurora Solar Client SDK Demo</h3>
    <!--The div element for the Aurora CAD view -->
    <div style="height: 100%; width: 100%" id="cad-element"></div>

    <script type="module">

        const tenant_id = '16d565a6-1bce-4ccb-b322-a5b89c3527c2';
        const tenant_id_csdk = 'a2b5974f-5f3e-478e-83ae-5df94b624b0c';
        const bearer_token = 'sk_sand_0a4db45c272aa51bd2bf64a5';
        const jwt = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6IjQ5YTU2NzBhLWQ1ZGUtNGExNi1iZDVhLTdiYzAwNDQxYTZlYSIsImVtYWlsIjoidGJsYWNrd2VsbCtzZGtAYXVyb3Jhc29sYXIuY29tIiwiY2xpZW50X3NkayI6dHJ1ZSwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwiZXhwIjoxNjg3Mzk4Nzg2LCJqdGkiOiI5MzNkNjY5NS04ZmQ1LTQ5Y2MtYWM4My02YjRiNjExYTY0NGYifQ.x6n11FPXiny2mVRec3b8Pj0fVNa9fqnpgGug0q_JLxA";
        //const user_id = '5984151a-ffe3-4d50-9268-d6d17c1a9900';
        
        
      const library = await import(
        'https://aurora-sdk.s3.amazonaws.com/client-sdk-loader.next.js'
      );

      const sdk = await library.load({
        token: jwt
        // or just user name and password when testing in sandbox
        //username: 'tblackwell+sdk@aurorasolar.com',
        //password: 'Har923Vest&',
      });

      console.log('SDK loaded', sdk);

      // Saving to window for testing
      window.sdk = sdk;
      sdk.cad.attach('#cad-element');

      // Saving to window for testing
      window.design = await sdk.design.load('3b9a67e1-070a-4be6-b816-5d75c49fee7b');
    </script>
  </body>
</html>
<!-- const options = {
    method: 'POST',
    headers: {
      accept: 'application/json',
      'content-type': 'application/json',
      authorization: 'Bearer sk_sand_e3cccb9b7236924b258488bc',
      'Access-Control-Allow-Origin': 'https://tblackwellaurora.github.io/'
    }
  };
  console.log("url: " + 'https://api-sandbox.aurorasolar.com/tenants/' + tenant_id + '/users/' + user_id + '/generate_token') -->

  <!-- //const response = await fetch('https://api-sandbox.aurorasolar.com/tenants/' + tenant_id + '/users/' + user_id + '/generate_token', options)
  //.then(response => console.log(response))
  //.catch(err => console.error(err));

//jwt = response['token']['jwt'];
//console.log("jwt: " + jwt); -->